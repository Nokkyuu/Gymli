#:import SlideTransition kivy.uix.screenmanager.SlideTransition
##:import RiseInTransition kivy.uix.screenmanager.RiseInTransition
# <AppScreenManager>:
#     UI_exercise:

<UI_exercise>
    on_enter:
        app.root.transition = SlideTransition(direction="left")
    name: "UI_exercise"
    
    MDRelativeLayout:
        size_hint: 1,1
        MDBoxLayout:
            orientation: "vertical"
            size_hint: 1,1
            MDBoxLayout: #here goes buttons and inputs for set
                size_hint: 1, 0.3
                spacing: 5
                md_bg_color: 1,1,1,1
                orientation: "vertical"
                MDLabel:
                    size_hint: 1, 1.5
                    text: ""
                    md_bg_color:0.01,0.5,0.99,1
                MDSegmentedButton: #typechoice
                    id: SetType
                    size_hint: 1, None
                    md_bg_color: 1,1,1,1
                    selected_color: 0,0,0,0
                    #selected_icon_color: 1,0,0,1
                    MDSegmentedButtonItem:
                        on_active: 
                            root.SwitchSetTyp(0)
                        id: warm
                        icon: "heat-wave"
                    MDSegmentedButtonItem:
                        on_active: 
                            root.SwitchSetTyp(1)
                        id: work
                        icon: "weight-lifter"
                    MDSegmentedButtonItem:
                        on_active: 
                            root.SwitchSetTyp(2)
                        id: drop
                        icon: "arrow-down-right"
                MDRelativeLayout:
                    size_hint: 1,1
                    MDIcon: #WeightInputIcon
                        pos_hint: {"center_x": 0.25, "center_y":0.5 }
                        color: 0.01,0.5,0.99,0.10
                        icon: "weight"
                        font_size: "60dp"
                    MDIcon: #WeightInputIcon
                        pos_hint: {"center_x": 0.75, "center_y":0.5 }
                        icon: "repeat"
                        color: 1, 0.6, 0.05, 0.10
                        font_size: "60dp"
                    TextInput: #WeightInput
                        pos_hint: {"center_x": 0.25, "center_y":0}
                        id: WeightInputLabel
                        #hint_text: "Weight"
                        input_type: "number"
                        size_hint: 0.5,2
                        #size: 1, 1
                        text: "0"
                        font_size: "40dp"
                        bold: True
                        halign: "center"
                        valign: "center"
                        background_color: 1,0,0,0
                        foreground_color: 0.01,0.5,0.99,1
                        multiline: False
                    TextInput: #RepsInput
                        pos_hint: {"center_x": 0.75, "center_y":0 }
                        id: RepsInputLabel
                        input_type: "number"
                        #hint_text: "Reps"
                        size_hint: 0.5,2
                        bold: True
                        text: "0" 
                        font_size: "40dp"
                        halign: "center"
                        background_color: 0,0,0,0 
                        foreground_color: 1, 0.6, 0.05, 1
                        multiline: False
                
            ExercisePlot: #class for graph plot from kivy garden
                id: PlotArea
                size_hint: 1.0, 0.4
            MDBoxLayout: #SetList 
                orientation: 'vertical'
                size_hint: 1,0.15
                pos_hint_y: {"top" : 1}
                MDAnchorLayout:
                    size_hint: 1,1
                    anchor_x: 'left'
                    anchor_y: 'top'
                    MDBoxLayout:
                        size_hint: 1, 1 #PrevSets
                        orientation: 'horizontal'
                        MDLabel: #PrevSetsTime
                            halign: "left"
                            id: PrevSetsTimeLabel
                        MDLabel: #PrevSetsTyp
                            halign: "right"
                            id: PrevSetsTypLabel
                        MDLabel: #PrevSetsWeight
                            halign: "left"
                            id: PrevSetsWeightLabel
                        MDLabel: #PrevSetsReps
                            halign: "left"
                            id: PrevSetsRepsLabel
                    Button:
                        size_hint: 1, 1
                        background_color: 0, 0, 0, 0
                        id: SetsListButton
                        on_release: app.root.current = "UI_setslist"
            MDRectangleFlatIconButton: #Submit
                id: SubmitButton
                pos_hint: {"center_x": 0.5, "center_y" : 1 }
                size_hint: 0.95, 0.08
                icon: "send"
                text_color: 0,0,0,1
                text: "Submit"
                on_press: 
                    root.SubmitSet()
                md_bg_color: 0.98,0.98,0.98,1
                icon_color: 0,0,0,1
                font_size: "25dp"
                line_color: 0.98,0.98,0.98,1
        BoxLayout: #WeightReps
            orientation: 'horizontal'
            size_hint: 1, 0.5
            
            

        BoxLayout: #Type and Send
            orientation: 'vertical'
            size_hint: 1,0.4
            
            

        MDCard: #header
            id: header
            style: "outlined"
            size_hint: 1, None
            size: 0, "55dp"
            pos_hint: {'x':-0.15, 'y':0.88}
            #border_radius: 80
            radius: [60]
            md_bg_color: 1,1,1,1
            line_color: 0.01,0.5,0.99,0.4
            MDRelativeLayout:
                size_hint: 1,1 
                MDLabel: #Title
                    text: "Benchpress"
                    size_hint: 1, 1
                    pos_hint: {'x': 0.21, 'y':0}
                    id: ExerciseNameShadow
                    font_size: "30dp"
                    bold: True
                    halign: "left"
                    color: 0,0,0,0.2
                    md_bg_color: 0,0,0,0
                MDLabel: #Title
                    text: "Benchpress"
                    size_hint: 1, 1
                    pos_hint: {'x':0.21, 'y':0.01}
                    id: ExerciseName
                    font_size: "30dp"
                    bold: True
                    halign: "left"
                    color: 0,0,0,1
                    md_bg_color: 0,0,0,0

                MDIconButton:
                    pos_hint: {'right':1, 'center_y':0.5}
                    icon: "arrow-left"
                    line_color: 0.01,0.5,0.99,0.4
                    line_width: 1
                    size: "55dp", "55dp"
                    md_bg_color: 0.01,0.5,0.99,0
                    on_release: 
                        app.root.transition = SlideTransition(direction="right")
                        app.root.current = "UI_landing"
